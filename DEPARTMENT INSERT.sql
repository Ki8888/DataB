-- SQLite
CREATE TABLE DEPARTMENT
(
  DEPARTMENT_ID TEXT NOT NULL,
  NAME          TEXT NOT NULL,
  PRIMARY KEY (DEPARTMENT_ID)
);

CREATE TABLE MEMBER
(
  MEMBER_ID     TEXT        NOT NULL,
  NAME          TEXT NOT NULL,
  AGE           INT         NOT NULL,
  ADDRESS       TEXT    NULL    ,
  SALARY        INT         NULL    ,
  DEPARTMENT_ID TEXT        NOT NULL,
  PRIMARY KEY (MEMBER_ID),
  CONSTRAINT FK_DEPARTMENT_TO_MEMBER
    FOREIGN KEY (DEPARTMENT_ID)
    REFERENCES DEPARTMENT (DEPARTMENT_ID)
);

CREATE TABLE HOBBY
(
  HOBBY_ID TEXT NOT NULL,
  NAME     TEXT NOT NULL,
  PRIMARY KEY (HOBBY_ID)
);

CREATE TABLE MEMBER_HOBBY
(
  MEMBER_ID TEXT NOT NULL,
  HOBBY_ID  TEXT NOT NULL,
  CONSTRAINT FK_MEMBER_TO_MEMBER_HOBBY
    FOREIGN KEY (MEMBER_ID)
    REFERENCES MEMBER (MEMBER_ID),
    CONSTRAINT FK_HOBBY_TO_MEMBER_HOBBY
    FOREIGN KEY (HOBBY_ID)
    REFERENCES HOBBY (HOBBY_ID)
);

--DEPARTMENT INSERT
INSERT INTO DEPARTMENT (DEPARTMENT_ID, NAME)
values ('A', 'Engineering');
INSERT INTO DEPARTMENT (DEPARTMENT_ID, NAME)
values ('B', 'IT Billing');

--MEMBER INSERT
INSERT INTO MEMBER (MEMBER_ID, NAME, AGE, ADDRESS, SALARY, DEPARTMENT_ID)
VALUES ('abcd1234','PAUL', 32, 'California', 20000.00, 'B');
INSERT INTO MEMBER (MEMBER_ID, NAME, AGE, ADDRESS, SALARY, DEPARTMENT_ID)
VALUES ('qwer1234', 'Allen', 25, 'Texas', 15000.00, 'A');
INSERT INTO MEMBER (MEMBER_ID, NAME, AGE, ADDRESS, SALARY, DEPARTMENT_ID)
VALUES ('zxcv1234', 'Teddy', 23, 'Norway', 20000.00, 'B');
INSERT INTO MEMBER (MEMBER_ID, NAME, AGE, ADDRESS, SALARY, DEPARTMENT_ID)
VALUES ('uiop1234', 'James',31 , 'Norway', 5000.00, 'B');

--HOBBY INSERT
insert into HOBBY(HOBBY_ID, NAME)
values ('H1', 'Walk');
insert into HOBBY(HOBBY_ID, NAME)
values ('H2', 'Climbing');
insert into HOBBY(HOBBY_ID, NAME)
values ('H3', 'Read');

--M-H
--Id_1
INSERT INTO MEMBER_HOBBY(MEMBER_ID, HOBBY_ID)
values('abcd1234', 'H1');
INSERT INTO MEMBER_HOBBY(MEMBER_ID, HOBBY_ID)
values('abcd1234', 'H2');
INSERT INTO MEMBER_HOBBY(MEMBER_ID, HOBBY_ID)
values('abcd1234', 'H3');

--id2
INSERT INTO MEMBER_HOBBY(MEMBER_ID, HOBBY_ID)
values('qwer1234', 'H1');
INSERT INTO MEMBER_HOBBY(MEMBER_ID, HOBBY_ID)
values('qwer1234', 'H3');

--id3
INSERT INTO MEMBER_HOBBY(MEMBER_ID, HOBBY_ID)
values('zxcv1234','H2');

--id4
INSERT INTO MEMBER_HOBBY(MEMBER_ID, HOBBY_ID)
values('uiop1234','H1');
INSERT INTO MEMBER_HOBBY(MEMBER_ID, HOBBY_ID)
values('uiop1234','H3');

SELECT MEMBER.NAME, DEPARTMENT.NAME FROM MEMBER, DEPARTMENT
WHERE MEMBER.DEPARTMENT_ID = DEPARTMENT.DEPARTMENT_ID;